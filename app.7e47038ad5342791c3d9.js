(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+nr4":function(e,t,n){e.exports={content:"_38eRjlSxqU",overlay:"_2cugp_ojFQ"}},0:function(e,t,n){n("bZMm"),e.exports=n("ERIh")},"1iZa":function(e,t,n){e.exports={btn:"_3RK6Pn_rfX"}},"1mhx":function(e,t,n){e.exports={TrafficNow:"_3uGf10f84P",down:"_30JMM9GgkW",up:"_1wybRgv0kl"}},"2UkG":function(e,t,n){e.exports={loading:"C8qYV83bFf",pulse:"_3ZgNvq3EI4",pulseScaleOut:"_1TUw6u7qIP"}},"31Hy":function(e,t,n){e.exports={root:"_3oXtG6fVlC"}},"3enP":function(e,t,n){e.exports={root:"_3tUhhoh39M",header:"_1jIFhvdOto",label:"XmDiVyKWwU",inputs:"_3IJhbo4w3s",footer:"_2QbR27nKyF"}},"5Wrh":function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("17x9"),c=n.n(o),i=n("1iZa"),l=n.n(i),s=function(){},u=r.a.memo(function(e){var t=e.label,n=e.onClick,a=void 0===n?s:n;return r.a.createElement("button",{className:l.a.btn,onClick:a},t)});u.propTypes={label:c.a.string.isRequired,onClick:c.a.func},t.a=u},"8dWu":function(e,t,n){},BCVB:function(e,t,n){e.exports={root:"_3KeIuWaGkq",h1:"dzHwHz5D1B"}},BN1O:function(e,t,n){e.exports={input:"_3rwuJToU6r"}},DKqX:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),o=n("17x9"),c=n.n(o),i=n("BCVB"),l=n.n(i);function s(e){var t=e.title;return r.a.createElement("div",{className:l.a.root},r.a.createElement("h1",{className:l.a.h1},t))}s.propTypes={title:c.a.string.isRequired},t.a=r.a.memo(s)},EJpJ:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("vpQ4"),r={"Content-Type":"application/json"};function o(e){var t=e.hostname,n=e.port,o=e.secret;return{url:function(e){var t=e.hostname,n=e.port;return"http://".concat(t,":").concat(n)}({hostname:t,port:n}),init:{headers:function(e){var t=e.secret,n=Object(a.a)({},r);return t&&(n.Authorization="Bearer ".concat(t)),n}({secret:o})}}}},EQlU:function(e,t,n){"use strict";n("VRzm"),n("XfO3"),n("rGqo"),n("yt8O"),n("RW0V");var a=n("rePB"),r=n("vpQ4"),o=n("o0o1"),c=n.n(o),i=(n("ls82"),n("HaE+")),l=n("EJpJ"),s="/proxies";function u(e){return p.apply(this,arguments)}function p(){return(p=Object(i.a)(c.a.mark(function e(t){var n,a,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(l.a)(t),a=n.url,r=n.init,e.next=3,fetch(a+s,r);case 3:return o=e.sent,e.next=6,o.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}))).apply(this,arguments)}function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=Object(i.a)(c.a.mark(function e(t,n,a){var o,i,u,p,d;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o={name:a},i=Object(l.a)(t),u=i.url,p=i.init,d="".concat(u).concat(s,"/").concat(n),e.next=5,fetch(d,Object(r.a)({},p,{method:"PUT",body:JSON.stringify(o)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function h(e,t){return m.apply(this,arguments)}function m(){return(m=Object(i.a)(c.a.mark(function e(t,n){var a,r,o,i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(l.a)(t),r=a.url,o=a.init,"timeout=5000&url=http://www.google.com/generate_204",i="".concat(r).concat(s,"/").concat(n,"/delay?").concat("timeout=5000&url=http://www.google.com/generate_204"),e.next=5,fetch(i,o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}var v=n("p19a");n.d(t,"d",function(){return y}),n.d(t,"c",function(){return E}),n.d(t,"e",function(){return w}),n.d(t,"b",function(){return C}),n.d(t,"g",function(){return N}),n.d(t,"f",function(){return S}),n.d(t,"a",function(){return R});var b=["DIRECT","GLOBAL","REJECT"],g=["Fallback","URLTest","Selector","LoadBalance"],y=function(e){return e.proxies.proxies},E=function(e){return e.proxies.delay},w=function(e){return e.proxies.groupNames},O="proxies/CompletedFetchProxies",x="proxies/OptimisticSwitchProxy",j="proxies/CompletedRequestDelayForProxy";function k(e){var t=[];for(var n in e)if(b.indexOf(n)<0){var a=e[n];g.indexOf(a.type)>=0&&t.push(n)}return t}function C(){return function(){var e=Object(i.a)(c.a.mark(function e(t,n){var a,r,o,i,l,s;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=Object(v.b)(a),e.next=4,u(r);case 4:o=e.sent,i=o.proxies,s=k(l=void 0===i?{}:i),t({type:O,payload:{proxies:l,groupNames:s}});case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}function N(e,t){return function(){var n=Object(i.a)(c.a.mark(function n(a,o){var i,l;return c.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:d(Object(v.b)(o()),e,t).then(function(e){!1===e.ok&&console.log("failed to swith proxy",e.statusText)},function(e){console.log(e,"failed to swith proxy")}).then(function(){a(C())}),i=y(o()),(l=Object(r.a)({},i))[e]&&l[e].now&&(l[e].now=t),a({type:x,payload:{proxies:l}});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}function T(e){return function(){var t=Object(i.a)(c.a.mark(function t(n,o){var i,l,s,u,p,d,f;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=Object(v.b)(o()),t.next=3,h(i,e);case 3:return l=t.sent,s="",!1===l.ok&&(s=l.statusText),t.next=8,l.json();case 8:u=t.sent,p=u.delay,d=E(o()),f=Object(r.a)({},d,Object(a.a)({},e,{error:s,number:p})),n({type:j,payload:{delay:f}});case 13:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}function S(){return function(){var e=Object(i.a)(c.a.mark(function e(t,n){var a,r,o,l;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n(),r=y(a),o=Object.keys(r),l=[],o.forEach(function(e){"Vmess"!==r[e].type&&"Shadowsocks"!==r[e].type||l.push(e)}),e.next=7,Promise.all(l.map(function(e){return t((a=e,n=Object(i.a)(c.a.mark(function e(t){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(T(a));case 2:case"end":return e.stop()}},e)})),function(e){return n.apply(this,arguments)}));var n,a}));case 7:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var I={proxies:{},delay:{},groupNames:[]};function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case j:case x:case O:return Object(r.a)({},e,a);default:return e}}},ERIh:function(e,t,n){"use strict";n.r(t);n("ewTs");var a=n("q1tI"),r=n.n(a),o=n("i8i4"),c=n.n(o),i=n("9rZX"),l=n.n(i),s=n("u4Dv"),u=n("55Ip"),p=n("Ty5D"),d=n("wSuE"),f=n("17x9"),h=n.n(f),m=n("2UkG"),v=n.n(m),b=function(e){var t=e.height,n=t?{height:t}:{};return r.a.createElement("div",{className:v.a.loading,style:n},r.a.createElement("div",{className:v.a.pulse}))};b.propTypes={height:h.a.string};var g,y=b,E=n("o0o1"),w=n.n(E),O=(n("ls82"),n("HaE+")),x=n("1OyB"),j=n("vuIU"),k=n("md7G"),C=n("foSv"),N=n("JX7q"),T=n("Ji7U"),S=n("rePB"),I="https://7068a15928ae45cf884dd8398fe8649c@sentry.io/1359284";function R(){return _.apply(this,arguments)}function _(){return(_=Object(O.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return",g);case 2:return e.next=4,n.e(7).then(n.t.bind(null,"abTI",7));case 4:return(t=e.sent).init({dsn:I}),g=t,e.abrupt("return",g);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}n("tUrg");var B=n("SXSQ"),A=n("4BeY"),P=n.n(A),L=n("IaFt"),M=n.n(L),D=new P.a({id:"yacd",use:"yacd-usage",viewBox:"0 0 320 320",content:'<symbol viewBox="0 0 320 320" xmlns="http://www.w3.org/2000/svg" id="yacd">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M68.142 52.056c9.396-1.515 29.798 27.762 45.809 57.699 18.907-8.164 75.199-7.859 97.664 0 4.799-15.898 28.706-58.455 38.546-57.699 4.065.09 13.145 32.285 23.568 96.695 2.793 17.259 6.883 48.36 12.271 93.305C245.489 260.019 203.995 269 161.518 269c-42.477 0-84.983-8.981-127.518-26.944 16.497-125.657 27.878-188.99 34.142-190z" stroke="#EEE" stroke-width="5" fill="currentColor" />\n    <circle stroke="#EEE" fill="#EEE" cx="226" cy="184" r="15" />\n    <circle stroke="#EEE" fill="#EEE" cx="103" cy="184" r="15" />\n    <path d="M163 214.042c2.067 0 4.637 6.54 10.108 6.54 4.567.16 5.383-1.65 7.074-1.677 1.656 0 1.818 1.174 1.818 1.677.027 2.166-5.347 3.686-8.349 3.418-7.475.101-9.703-5.451-10.651-5.451-.91 0-3.833 5.451-10.194 5.451-7.143-.113-8.799-1.471-8.799-3.099.01-.783.802-1.54 1.685-1.505 1.39-.041 4.576 1.027 7.35 1.038 3.585-.016 8.163-6.392 9.958-6.392z" fill="#FFF" />\n  </g>\n</symbol>'}),H=(M.a.add(D),D),q=new P.a({id:"github",use:"github-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" id="github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" /></symbol>'}),F=(M.a.add(q),q),z=n("a/9k"),J=n.n(z),U="https://github.com/haishanh/yacd/issues";var G=function(){return r.a.createElement("div",{className:J.a.root},r.a.createElement("div",{className:J.a.yacd},r.a.createElement(B.a,{id:H.id,width:150,height:150})),r.a.createElement("h1",null,"Oops, something went wrong!"),r.a.createElement("p",null,"If you think this is a bug, reporting this at"," ",r.a.createElement("a",{className:J.a.link,href:U},r.a.createElement(B.a,{id:F.id,width:16,height:16}),"haishanh/yacd")))},V=function(e){function t(){var e,n;Object(x.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return n=Object(k.a)(this,(e=Object(C.a)(t)).call.apply(e,[this].concat(r))),Object(S.a)(Object(N.a)(n),"state",{error:null}),Object(S.a)(Object(N.a)(n),"loadSentry",Object(O.a)(w.a.mark(function e(){var t;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.sentry){e.next=2;break}return e.abrupt("return",n.sentry);case 2:return e.next=4,R();case 4:return t=e.sent,n.sentry=t,e.abrupt("return",n.sentry);case 7:case"end":return e.stop()}},e)}))),Object(S.a)(Object(N.a)(n),"showReportDialog",function(){n.loadSentry().then(function(e){return e.showReportDialog()})}),n}return Object(T.a)(t,e),Object(j.a)(t,[{key:"componentDidMount",value:function(){}},{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.error?r.a.createElement(G,null):this.props.children}}]),t}(a.Component);Object(S.a)(V,"propTypes",{children:h.a.node});var W=V,X=n("TSYQ"),K=n.n(X),Q=n("p19a"),Z=new P.a({id:"moon",use:"moon-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="moon"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" /></symbol>'}),Y=(M.a.add(Z),Z);function $(e){var t=e.isActive,n=t?"#000":"currentColor";return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("path",{d:"M22 17h-4l-3 9L9 8l-3 9H2",stroke:"#E1293E",style:{transition:"all 1s",opacity:t?"1":"0"}}),r.a.createElement("path",{d:"M24 14h-4l-3 9-6-18-3 9H4",stroke:n,style:{transition:"all 1s"}})))}$.propTypes={isActive:h.a.bool};var ee=$;function te(e){var t=e.isActive,n=t?"#000":"currentColor";return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("circle",{cx:"10",cy:"10",r:"10",transform:"translate(2 6)",fill:"#FFCB33",stroke:"#FFCB33",style:{transition:"all 1s",opacity:t?"1":"0"}}),r.a.createElement("g",{transform:"translate(4 4)",stroke:n,style:{transition:"all 1s"}},r.a.createElement("circle",{cx:"10",cy:"10",r:"10"}),r.a.createElement("path",{d:"M0 10h20M10 0a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"}))))}function ne(e){var t=e.isActive,n=t?"#000":"currentColor";return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("path",{d:"M17 7a3 3 0 0 0-3 3v12a3 3 0 1 0 3-3H5a3 3 0 1 0 3 3V10a3 3 0 1 0-3 3h12a3 3 0 0 0 0-6z",fill:"#75B24B",stroke:"#75B24B",style:{transition:"all 1s",opacity:t?"1":"0"}}),r.a.createElement("path",{d:"M20 5a3 3 0 0 0-3 3v12a3 3 0 1 0 3-3H8a3 3 0 1 0 3 3V8a3 3 0 1 0-3 3h12a3 3 0 0 0 0-6z",stroke:n,style:{transition:"all 1s"}})))}function ae(e){var t=e.isActive,n=t?"#000":"currentColor";return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("g",{transform:"translate(1 4)",fill:"#47A7EB",stroke:"#47A7EB",style:{transition:"all 1s",opacity:t?"1":"0"}},r.a.createElement("circle",{cx:"11",cy:"11",r:"3"}),r.a.createElement("path",{d:"M18.4 14a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V20a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 18.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 3.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H8a1.65 1.65 0 0 0 1-1.51V2a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V8c.26.604.852.997 1.51 1H20a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"})),r.a.createElement("g",{transform:"translate(3 3)",stroke:n,style:{transition:"all 1s"}},r.a.createElement("circle",{cx:"11",cy:"11",r:"3"}),r.a.createElement("path",{d:"M18.4 14a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 1 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V20a2 2 0 1 1-4 0v-.09A1.65 1.65 0 0 0 8 18.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 1 1-2.83-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H2a2 2 0 1 1 0-4h.09A1.65 1.65 0 0 0 3.6 8a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 1 1 2.83-2.83l.06.06a1.65 1.65 0 0 0 1.82.33H8a1.65 1.65 0 0 0 1-1.51V2a2 2 0 1 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 1 1 2.83 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V8c.26.604.852.997 1.51 1H20a2 2 0 1 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"}))))}function re(e){var t=e.isActive,n=t?"#000":"currentColor";return r.a.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("g",{fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},r.a.createElement("path",{d:"M13 6H5a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V12l-6-6z",fill:"#F29632",stroke:"#F29632",style:{transition:"all 1s",opacity:t?"1":"0"}}),r.a.createElement("g",{stroke:n,style:{transition:"all 1s"}},r.a.createElement("path",{d:"M16 4H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V10l-6-6z"}),r.a.createElement("path",{d:"M16 4v6h6M18 15h-8M18 19h-8M12 11h-2"}))))}te.propTypes={isActive:h.a.bool},ne.propTypes={isActive:h.a.bool},ae.propTypes={isActive:h.a.bool},re.propTypes={isActive:h.a.bool};var oe=n("oPlX"),ce=n.n(oe),ie={activity:ee,globe:te,command:ne,file:re,settings:ae},le=r.a.memo(function(e){var t=e.location,n=e.iconId,a=e.labelText,o=e.to,c=ie[n],i=t.pathname===o,l=K()(ce.a.row,i?ce.a.rowActive:null);return r.a.createElement(u.b,{to:o,className:l},r.a.createElement(c,{isActive:i}),r.a.createElement("div",{className:ce.a.label},a))});le.propTypes={location:h.a.shape({pathname:h.a.string}).isRequired,to:h.a.string.isRequired,iconId:h.a.string,labelText:h.a.string};var se={switchTheme:Q.d};function ue(e){var t=e.location,n=Object(s.b)(se).switchTheme;return r.a.createElement("div",{className:ce.a.root},r.a.createElement("a",{href:"https://github.com/haishanh/yacd",className:ce.a.logoLink,target:"_blank",rel:"noopener noreferrer"},r.a.createElement("div",{className:ce.a.logo},r.a.createElement(B.a,{id:H.id,width:80,height:80}))),r.a.createElement("div",{className:ce.a.rows},r.a.createElement(le,{to:"/",location:t,iconId:"activity",labelText:"Overview"}),r.a.createElement(le,{to:"/proxies",location:t,iconId:"globe",labelText:"Proxies"}),r.a.createElement(le,{to:"/rules",location:t,iconId:"command",labelText:"Rules"}),r.a.createElement(le,{to:"/configs",location:t,iconId:"settings",labelText:"Config"}),r.a.createElement(le,{to:"/logs",location:t,iconId:"file",labelText:"Logs"})),r.a.createElement("div",{className:ce.a.themeSwitchContainer,onClick:n},r.a.createElement(B.a,{id:Y.id,width:20,height:20})))}ue.propTypes={location:h.a.shape({pathname:h.a.string}).isRequired};var pe=r.a.memo(ue),de=n("DKqX"),fe=n("vpQ4"),he=(n("xfY5"),n("eHKK"),["B","KB","MB","GB","TB","PB","EB","ZB","YB"]),me=function(e){if(e<1e3)return e+" B";var t=Math.min(Math.floor(Math.log10(e)/3),he.length-1);return(e=Number((e/Math.pow(1e3,t)).toPrecision(3)))+" "+he[t]},ve=n("Jf6s"),be=n("xaHF"),ge=Object(be.unstable_createResource)(function(){return n.e(6).then(n.t.bind(null,"JVhT",7)).then(function(e){return e.default})}),ye={0:{down:{backgroundColor:"rgba(176, 209, 132, 0.8)",borderColor:"rgb(176, 209, 132)"},up:{backgroundColor:"rgba(181, 220, 231, 0.8)",borderColor:"rgb(181, 220, 231)"}},1:{up:{backgroundColor:"rgba(242, 174, 62, 0.3)",borderColor:"rgb(242, 174, 62)"},down:{backgroundColor:"rgba(69, 154, 248, 0.3)",borderColor:"rgb(69, 154, 248)"}},2:{up:{backgroundColor:"rgba(94, 175, 223, 0.3)",borderColor:"rgb(94, 175, 223)"},down:{backgroundColor:"rgba(139, 227, 195, 0.3)",borderColor:"rgb(139, 227, 195)"}}},Ee={borderWidth:1,pointRadius:0};var we={responsive:!0,maintainAspectRatio:!0,title:{display:!1},legend:{display:!0,position:"top",labels:{fontColor:"#ccc",boxWidth:20}},tooltips:{enabled:!1,mode:"index",intersect:!1,animationDuration:100},hover:{mode:"nearest",intersect:!0},scales:{xAxes:[{display:!1,gridLines:{display:!1}}],yAxes:[{display:!0,gridLines:{display:!0,color:"#555",borderDash:[3,6],drawBorder:!1},ticks:{callback:function(e){return me(e)+"/s "}}}]}},Oe={position:"relative",width:"90%"};function xe(){var e=ge.read(),t=Object(s.c)(Q.b),n=t.hostname,o=t.port,c=t.secret,i=Object(s.c)(Q.c);return Object(a.useEffect)(function(){var t=document.getElementById("trafficChart").getContext("2d"),a=Object(ve.a)({hostname:n,port:o,secret:c}),r=function(){var e="dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?"0":"2";return Object(fe.a)({},Ee,ye[e].up,{label:"Up"})}(i),l=function(){var e="dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?"0":"2";return Object(fe.a)({},Ee,ye[e].down,{label:"Down"})}(i),s={labels:a.labels,datasets:[Object(fe.a)({},r,{data:a.up}),Object(fe.a)({},l,{data:a.down})]},u=new e(t,{type:"line",data:s,options:we}),p=a.subscribe(function(){return u.update()});return function(){p(),u.destroy()}},[n,o,c,i]),r.a.createElement("div",{style:Oe},r.a.createElement("canvas",{id:"trafficChart"}))}var je=n("ODXe"),ke=n("1mhx"),Ce=n.n(ke);function Ne(){var e,t,n,o,c,i,l,u,p=(e=Object(a.useState)({upStr:"0 B/s",downStr:"0 B/s"}),t=Object(je.a)(e,2),n=t[0],o=t[1],c=Object(s.c)(Q.b),i=c.hostname,l=c.port,u=c.secret,Object(a.useEffect)(function(){return Object(ve.a)({hostname:i,port:l,secret:u}).subscribe(function(e){return o({upStr:me(e.up)+"/s",downStr:me(e.down)+"/s"})})},[i,l,u]),n),d=p.upStr,f=p.downStr;return r.a.createElement("div",{className:Ce.a.TrafficNow},r.a.createElement("div",{className:Ce.a.up},r.a.createElement("div",null,"Upload"),r.a.createElement("div",null,d)),r.a.createElement("div",{className:Ce.a.down},r.a.createElement("div",null,"Download"),r.a.createElement("div",null,f)))}var Te=n("31Hy"),Se=n.n(Te);function Ie(){return r.a.createElement("div",null,r.a.createElement(de.a,{title:"Overview"}),r.a.createElement("div",{className:Se.a.root},r.a.createElement("div",null,r.a.createElement(Ne,null)),r.a.createElement("div",{className:Se.a.chart},r.a.createElement(a.Suspense,{fallback:r.a.createElement(y,{height:"200px"}),maxDuration:10},r.a.createElement(xe,null)))))}var Re=n("iR1w"),_e=n("Kv4h"),Be=(n("rGqo"),n("KKXr"),n("a1Th"),n("EJpJ")),Ae="/logs",Pe=new TextDecoder("utf-8",{stream:!0}),Le=function(){return Math.floor(65536*(1+Math.random())).toString(16)},Me=!1,De=!1;function He(e,t){return e.read().then(function(n){var a=n.done,r=n.value;if(!a)return Pe.decode(r).trim().split("\n").forEach(function(e){try{n=JSON.parse(e),a=t,r=new Date,o=r.toLocaleString("zh-Hans"),n.time=o,n.id=r-0+Le(),n.even=Me=!Me,a(n)}catch(t){console.log("JSON.parse error",JSON.parse(e))}var n,a,r,o}),He(e,t);console.log("GET /logs streaming done")})}var qe=n("II4a"),Fe=n("G4qV"),ze="logs/UpdateSearchText",Je="logs/UpdateLogTail",Ue=300,Ge=function(e){return e.logs.logs},Ve=function(e){return e.logs.tail},We=function(e){return e.logs.searchText},Xe=Object(Fe.a)(Ge,Ve,We,function(e,t,n){for(var a=[],r=t;r>=0;r--)a.push(e[r]);if(e.length===Ue)for(var o=Ue-1;o>t;o--)a.push(e[o]);return""===n?a:a.filter(function(e){return e.payload.toLowerCase().indexOf(n)>=0})});var Ke={searchText:"",logs:[],tail:-1};var Qe={updateSearchText:function(e){return{type:ze,payload:{searchText:e.toLowerCase()}}}},Ze=Object(qe.a)({mapStateToProps:function(e){return{searchText:We(e)}},actions:Qe}),Ye=n("t8vU"),$e=n.n(Ye),et=30,tt={debug:"none",info:"#454545",warning:"#b99105",error:"#c11c1c"};function nt(e){var t=e.time,n=e.even,a=e.payload,o=e.type,c=K()({even:n},$e.a.log);return r.a.createElement("div",{className:c},r.a.createElement("div",{className:$e.a.logMeta},r.a.createElement("div",{className:$e.a.logTime},t),r.a.createElement("div",{className:$e.a.logType,style:{backgroundColor:tt[o]}},o),r.a.createElement("div",{className:$e.a.logText},a)))}function at(e,t){return t[e].id}nt.propTypes={time:h.a.string,even:h.a.bool,payload:h.a.string,type:h.a.string};var rt=Object(a.memo)(function(e){var t=e.index,n=e.style,a=e.data[t];return r.a.createElement("div",{style:n},r.a.createElement(nt,a))},Re.b),ot={appendLog:function(e){return function(t,n){var a=n(),r=Ge(a),o=Ve(a),c=o>=Ue-1?0:o+1;r[c]=e,t({type:Je,payload:{tail:c}})}}};function ct(){var e=Object(s.c)(Q.b),t=e.hostname,n=e.port,o=e.secret,c=Object(s.b)(ot).appendLog,i=Object(s.c)(Xe);Object(a.useEffect)(function(){!function(e,t){if(!De){De=!0;var n=Object(Be.a)(e),a=n.url,r=n.init;fetch(a+Ae,r).then(function(e){He(e.body.getReader(),t)}).catch(function(e){De=!1,console.log("GET /logs error",e)})}}({hostname:t,port:n,secret:o},c)},[t,n,o]);var l=Object(_e.a)(),u=Object(je.a)(l,2),p=u[0],d=u[1];return r.a.createElement("div",null,r.a.createElement(de.a,{title:"Logs"}),r.a.createElement(Ze,null),r.a.createElement("div",{ref:p,style:{paddingBottom:et}},0===i.length?r.a.createElement("div",{className:$e.a.logPlaceholder,style:{height:d-et}},r.a.createElement("div",{className:$e.a.logPlaceholderIcon},r.a.createElement(B.a,{id:H.id,width:200,height:200})),r.a.createElement("div",null,"No logs yet, hang tight...")):r.a.createElement("div",{className:$e.a.logsWrapper},r.a.createElement(Re.a,{height:d-et,width:"100%",itemCount:i.length,itemSize:80,itemData:i,itemKey:at},rt))))}var it=n("oFgh"),lt=n("uSrA"),st=n.n(lt),ut=function(){};function pt(e){var t=e.checked,n=void 0!==t&&t,a=e.onChange,o=void 0===a?ut:a,c=e.name,i=void 0===c?"":c;return r.a.createElement("div",null,r.a.createElement("input",{type:"checkbox",name:i,checked:n,className:st.a.switch,onChange:o}))}pt.propTypes={checked:h.a.bool,onChange:h.a.func,name:h.a.string};var dt=r.a.memo(pt),ft=n("InNZ"),ht=n.n(ft);function mt(e){var t=e.options,n=e.value,o=e.name,c=e.onChange,i=Object(a.useRef)(null),l=(100/t.length).toPrecision(3);return r.a.createElement("div",null,r.a.createElement("div",{className:ht.a.ToggleSwitch},t.map(function(e,t){n===e.value&&(i.current=t);var a="".concat(o,"-").concat(e.label),l=0===t?"":"border-left";return r.a.createElement("label",{htmlFor:a,key:a,className:l},r.a.createElement("input",{id:a,name:o,type:"radio",value:e.value,checked:n===e.value,onChange:c}),r.a.createElement("div",null,e.label))}),r.a.createElement("a",{className:ht.a.slider,style:{width:l+"%",left:i.current*l+"%"}})))}mt.propTypes={options:h.a.array,value:h.a.string,name:h.a.string,onChange:h.a.func};var vt=r.a.memo(mt),bt=n("wx14"),gt=n("BN1O"),yt=n.n(gt);function Et(e){return r.a.createElement("input",Object(bt.a)({className:yt.a.input},e))}Et.propTypes={value:h.a.oneOfType([h.a.string,h.a.number]),type:h.a.string,onChange:h.a.func,name:h.a.string,placeholder:h.a.string};var wt=n("So2z"),Ot=n.n(wt),xt=[{label:"Global",value:"Global"},{label:"Rule",value:"Rule"},{label:"Direct",value:"Direct"}],jt=[{label:"info",value:"info"},{label:"warning",value:"warning"},{label:"error",value:"error"},{label:"debug",value:"debug"},{label:"silent",value:"silent"}],kt={fetchConfigs:it.b,updateConfigs:it.d},Ct=function(e){return{configs:Object(it.c)(e)}};function Nt(){var e=Object(s.b)(kt).fetchConfigs,t=Object(s.c)(Ct).configs;return Object(a.useEffect)(function(){e()},[]),r.a.createElement(Tt,{configs:t})}function Tt(e){var t=e.configs,n=Object(s.b)(kt).updateConfigs,o=Object(a.useState)(t),c=Object(je.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(t),p=Object(je.a)(u,2),d=p[0],f=p[1];d!==t&&(f(t),l(t));var h=function(e,t){l(Object(fe.a)({},i,Object(S.a)({},e,t)))};function m(e){var t=e.target,a=t.name,r=t.value;switch(t.name){case"allow-lan":r=t.checked,h(a,r),n(Object(S.a)({},a,r));break;case"mode":case"log-level":h(a,r),n(Object(S.a)({},a,r));break;case"redir-port":case"socks-port":case"port":if(""!==t.value){var o=parseInt(t.value,10);if(o<0||o>65535)return}h(a,r);break;default:return}}function v(e){var t=e.target,a=t.name,r=t.value;switch(a){case"port":case"socks-port":case"redir-port":var o=parseInt(r,10);if(o<0||o>65535)return;n(Object(S.a)({},a,o))}}return r.a.createElement("div",null,r.a.createElement(de.a,{title:"Config"}),r.a.createElement("div",{className:Ot.a.root},r.a.createElement("div",null,r.a.createElement("div",{className:Ot.a.label},"HTTP Proxy Port"),r.a.createElement(Et,{name:"port",value:i.port,onChange:m,onBlur:v})),r.a.createElement("div",null,r.a.createElement("div",{className:Ot.a.label},"SOCKS5 Proxy Port"),r.a.createElement(Et,{name:"socks-port",value:i["socks-port"],onChange:m,onBlur:v})),r.a.createElement("div",null,r.a.createElement("div",{className:Ot.a.label},"Redir Port"),r.a.createElement(Et,{name:"redir-port",value:i["redir-port"],onChange:m,onBlur:v})),r.a.createElement("div",null,r.a.createElement("div",{className:Ot.a.label},"Allow LAN"),r.a.createElement(dt,{name:"allow-lan",checked:i["allow-lan"],onChange:m})),r.a.createElement("div",null,r.a.createElement("div",{className:Ot.a.label},"Mode"),r.a.createElement(vt,{options:xt,name:"mode",value:i.mode,onChange:m})),r.a.createElement("div",null,r.a.createElement("div",{className:Ot.a.label},"Log Level"),r.a.createElement(vt,{options:jt,name:"log-level",value:i["log-level"],onChange:m}))))}Tt.propTypes={configs:h.a.object};var St=n("Ff2n"),It=n("G8MJ"),Rt=n.n(It);function _t(e){var t=e.isOpen,n=e.onRequestClose,a=e.className,o=e.overlayClassName,c=e.children,i=Object(St.a)(e,["isOpen","onRequestClose","className","overlayClassName","children"]),s=K()(a,Rt.a.content),u=K()(o,Rt.a.overlay);return r.a.createElement(l.a,Object(bt.a)({isOpen:t,onRequestClose:n,className:s,overlayClassName:u},i),c)}_t.propTypes={isOpen:h.a.bool.isRequired,onRequestClose:h.a.func.isRequired,children:h.a.node.isRequired,className:h.a.string,overlayClassName:h.a.string};var Bt=r.a.memo(_t),At=n("5Wrh"),Pt=n("3enP"),Lt=n.n(Pt),Mt=function(e){return{apiConfig:Object(Q.b)(e)}};var Dt=function(){var e=Object(s.c)(Mt).apiConfig,t=Object(a.useState)(e.hostname),n=Object(je.a)(t,2),o=n[0],c=n[1],i=Object(a.useState)(e.port),l=Object(je.a)(i,2),u=l[0],p=l[1],d=Object(a.useState)(e.secret),f=Object(je.a)(d,2),h=f[0],m=f[1],v=Object(s.b)({updateClashAPIConfig:Q.e}),b=Object(a.useRef)(null);Object(a.useEffect)(function(){b.current.focus()},[]);var g=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"port":p(a);break;case"hostname":c(a);break;case"secret":m(a)}};function y(){v.updateClashAPIConfig({hostname:o,port:u,secret:h})}return r.a.createElement("div",{className:Lt.a.root,ref:b,tabIndex:"1",onKeyDown:function(e){13===e.keyCode&&y()}},r.a.createElement("div",{className:Lt.a.header},"Clash External Controller Config"),r.a.createElement("div",{className:Lt.a.body},r.a.createElement("div",{className:Lt.a.group},r.a.createElement("div",{className:Lt.a.label},"Hostname and Port"),r.a.createElement("div",{className:Lt.a.inputs},r.a.createElement(Et,{type:"text",name:"hostname",placeholder:"Hostname",value:o,onChange:g}),r.a.createElement(Et,{type:"number",name:"port",placeholder:"Port",value:u,onChange:g}))),r.a.createElement("div",{className:Lt.a.group},r.a.createElement("div",{className:Lt.a.label},"Authorization Secret (Optional)"),r.a.createElement("div",null,r.a.createElement(Et,{type:"text",name:"secret",value:h,placeholder:"Optional",onChange:g})))),r.a.createElement("div",{className:Lt.a.footer},r.a.createElement(At.a,{label:"Confirm",onClick:y})))},Ht=n("i53Z"),qt=n("+nr4"),Ft=n.n(qt),zt=function(e){return{modals:e.modals}},Jt={closeModal:Ht.a,fetchConfigs:it.b};function Ut(){var e=Object(s.c)(zt).modals,t=Object(s.b)(Jt),n=t.closeModal,o=t.fetchConfigs;return Object(a.useEffect)(function(){o()},[]),r.a.createElement(Bt,{isOpen:e.apiConfig,className:Ft.a.content,overlayClassName:Ft.a.overlay,shouldCloseOnOverlayClick:!1,shouldCloseOnEsc:!1,onRequestClose:function(){return n("apiConfig")}},r.a.createElement(Dt,null))}var Gt=n("ANjH"),Vt=n("sINF"),Wt=n("EQlU"),Xt=n("Tvb5"),Kt=Object(Gt.c)({app:Q.a,modals:Ht.b,proxies:Wt.a,rules:Xt.a,logs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case Je:case ze:return Object(fe.a)({},e,a);default:return e}},configs:it.a}),Qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Gt.d;var Zt=Object(Gt.e)(Kt,Qt(Object(Gt.a)(Vt.a))),Yt=(n("8dWu"),n("IqOL")),$t=n.n(Yt),en=r.a.lazy(function(){return n.e(1).then(n.bind(null,"wyCT"))}),tn=r.a.lazy(function(){return n.e(3).then(n.bind(null,"BVyM"))});window.store=Zt;var nn=Object(d.hot)(function(){return r.a.createElement(W,null,r.a.createElement(s.a,{store:Zt},r.a.createElement(u.a,null,r.a.createElement("div",{className:$t.a.app},r.a.createElement(Ut,null),r.a.createElement(p.a,{path:"/",render:function(e){return r.a.createElement(pe,e)}}),r.a.createElement("div",{className:$t.a.content},r.a.createElement(a.Suspense,{fallback:r.a.createElement(y,{height:"200px"}),maxDuration:10},r.a.createElement(p.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(p.a,{exact:!0,path:"/overview",render:function(){return r.a.createElement(Ie,null)}}),r.a.createElement(p.a,{exact:!0,path:"/configs",render:function(){return r.a.createElement(Nt,null)}}),r.a.createElement(p.a,{exact:!0,path:"/logs",render:function(){return r.a.createElement(ct,null)}}),r.a.createElement(p.a,{exact:!0,path:"/proxies",render:function(){return r.a.createElement(en,null)}}),r.a.createElement(p.a,{exact:!0,path:"/rules",render:function(){return r.a.createElement(tn,null)}})))))))});l.a.setAppElement("#app"),(0,c.a.unstable_createRoot)(document.getElementById("app")).render(r.a.createElement(nn,null)),console.log("Checkout the repo: https://github.com/haishanh/yacd")},G8MJ:function(e,t,n){e.exports={overlay:"_1aZG3SnwLf",content:"_2LHk9jeQDw"}},II4a:function(e,t,n){"use strict";var a=n("ODXe"),r=n("q1tI"),o=n.n(r),c=n("SXSQ"),i=n("4BeY"),l=n.n(i),s=n("IaFt"),u=n.n(s),p=new l.a({id:"search",use:"search-usage",viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" id="search"><circle cx="11" cy="11" r="8" /><line x1="21" y1="21" x2="16.65" y2="16.65" /></symbol>'}),d=(u.a.add(p),p),f=n("u4Dv"),h=n("hbEN"),m=n("i1wY"),v=n.n(m);t.a=function(e){var t=e.mapStateToProps,n=e.actions;return Object(r.memo)(function(){var e=Object(f.b)(n).updateSearchText,i=Object(r.useMemo)(function(){return Object(h.a)(e,300)},[e]),l=Object(f.c)(t).searchText,s=Object(r.useState)(l),u=Object(a.a)(s,2),p=u[0],m=u[1];return o.a.createElement("div",{className:v.a.RuleSearch},o.a.createElement("div",{className:v.a.RuleSearchContainer},o.a.createElement("div",{className:v.a.inputWrapper},o.a.createElement("input",{type:"text",value:p,onChange:function(e){m(e.target.value),i(e.target.value)},className:v.a.input})),o.a.createElement("div",{className:v.a.iconWrapper},o.a.createElement(c.a,{id:d.id}))))})}},InNZ:function(e,t,n){e.exports={ToggleSwitch:"_1hOXHPZoyT",slider:"_2NWH7f7uzO"}},IqOL:function(e,t,n){e.exports={app:"_1zCe_vGIjz",content:"_2hH5WcxSWh"}},Jf6s:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n("rGqo");var a=n("EJpJ"),r="/traffic",o=new TextDecoder("utf-8",{stream:!0}),c={labels:Array(150),up:Array(150),down:Array(150),size:150,subscribers:[],appendData:function(e){this.up.push(e.up),this.down.push(e.down);var t=new Date,n=""+t.getMinutes()+t.getSeconds();this.labels.push(n),this.up.length>this.size&&this.up.shift(),this.down.length>this.size&&this.down.shift(),this.labels.length>this.size&&this.labels.shift(),this.subscribers.forEach(function(t){return t(e)})},subscribe:function(e){var t=this;return this.subscribers.push(e),function(){var n=t.subscribers.indexOf(e);t.subscribers.splice(n,1)}}},i=!1;function l(e){if(i)return c;var t=Object(a.a)(e),n=t.url,l=t.init;return fetch(n+r,l).then(function(e){e.ok&&(i=!0,function e(t){return t.read().then(function(n){var a=n.done,r=n.value;if(a)return console.log("GET /traffic streaming done"),void(i=!1);var l=o.decode(r),s=JSON.parse(l);return c.appendData(s),e(t)})}(e.body.getReader()))}),c}},Kv4h:function(e,t,n){"use strict";n.d(t,"a",function(){return o});var a=n("ODXe"),r=n("q1tI");function o(){var e=Object(r.useRef)(null),t=Object(r.useState)(200),n=Object(a.a)(t,2),o=n[0],c=n[1];var i=Object(r.useCallback)(function(){var t=e.current.getBoundingClientRect().top;c(window.innerHeight-t)},[]);return Object(r.useLayoutEffect)(function(){return i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i)}},[]),[e,o]}},SXSQ:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),o=n("q1tI"),c=n.n(o),i=n("17x9"),l=n.n(i),s=n("TSYQ"),u=n.n(s),p=function(e){var t=e.id,n=e.width,o=void 0===n?20:n,i=e.height,l=void 0===i?20:i,s=e.className,p=Object(r.a)(e,["id","width","height","className"]),d=u()("icon",t,s),f="#"+t;return c.a.createElement("svg",Object(a.a)({className:d,width:o,height:l},p),c.a.createElement("use",{xlinkHref:f}))};p.propTypes={id:l.a.string.isRequired,width:l.a.number,height:l.a.number,className:l.a.string},t.a=c.a.memo(p)},So2z:function(e,t,n){e.exports={root:"_3WDSAUufkz",label:"_1su0iUCppI"}},Tvb5:function(e,t,n){"use strict";var a=n("vpQ4"),r=n("o0o1"),o=n.n(r),c=(n("ls82"),n("HaE+")),i=n("EJpJ"),l="/rules";function s(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(o.a.mark(function e(t){var n,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)(t),a=n.url,r=n.init,e.next=3,fetch(a+l,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var p=n("p19a"),d=n("QLaP"),f=n.n(d),h=n("G4qV");n.d(t,"e",function(){return v}),n.d(t,"d",function(){return b}),n.d(t,"f",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"c",function(){return O}),n.d(t,"a",function(){return j});var m=function(e){return e.rules.allRules},v=function(e){return e.rules.searchText},b=Object(h.a)(v,m,function(e,t){return""===e?t:t.filter(function(t){return t.payload.indexOf(e)>=0})}),g="rules/CompletedFetchRules",y="rule/UpdateSearchText";function E(e){return{type:y,payload:{searchText:e.toLowerCase()}}}function w(){return function(){var e=Object(c.a)(o.a.mark(function e(t,n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(p.b)(n()),e.next=3,s(a);case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,f()(c.rules&&c.rules.length>=0,"there is no valid rules list in the rules API response"),i=c.rules.map(function(e,t){return e.id=t,e}),t({type:g,payload:{allRules:i}});case 10:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}function O(){return function(){var e=Object(c.a)(o.a.mark(function e(t,n){return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==m(n()).length){e.next=5;break}return e.next=4,t(w());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var x={allRules:[],searchText:""};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case y:case g:return Object(a.a)({},e,r);default:return e}}},"a/9k":function(e,t,n){e.exports={root:"_1vi9X6zp__",yacd:"_3a-vmAlkFb",link:"PdRbGY12nx"}},i1wY:function(e,t,n){e.exports={RuleSearch:"wO91liFQQU",RuleSearchContainer:"KerXKV44-V",inputWrapper:"_1eCIOxLbbw",input:"_15uzlTthxn",iconWrapper:"_2YC46TUu3I"}},i53Z:function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return u});var a=n("rePB"),r=n("vpQ4"),o="modals/OpenModal",c="modals/CloseModal";function i(e){return{type:o,payload:e}}function l(e){return{type:c,payload:e}}var s={apiConfig:!1};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,n=t.type,i=t.payload;switch(n){case o:return Object(r.a)({},s,Object(a.a)({},i,!0));case c:return Object(r.a)({},s,Object(a.a)({},i,!1));default:return e}}},oFgh:function(e,t,n){"use strict";var a=n("vpQ4"),r=n("o0o1"),o=n.n(r),c=(n("ls82"),n("HaE+")),i=n("EJpJ"),l="/configs";function s(e){return u.apply(this,arguments)}function u(){return(u=Object(c.a)(o.a.mark(function e(t){var n,a,r;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(i.a)(t),a=n.url,r=n.init,e.next=3,fetch(a+l,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function p(e){return"socks-port"in e&&(e["socket-port"]=e["socks-port"]),e}function d(e,t){return f.apply(this,arguments)}function f(){return(f=Object(c.a)(o.a.mark(function e(t,n){var r,c,s;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(i.a)(t),c=r.url,s=r.init,e.next=3,fetch(c+l,Object(a.a)({},s,{method:"PATCH",body:JSON.stringify(p(n))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}var h=n("Jf6s"),m=n("i53Z"),v=n("p19a");n.d(t,"c",function(){return E}),n.d(t,"b",function(){return w}),n.d(t,"d",function(){return O}),n.d(t,"a",function(){return j});var b="configs/CompletedFetchConfigs",g="configs/OptimisticUpdateConfigs",y="configs/MarkHaveFetchedConfig",E=function(e){return e.configs};function w(){return function(){var e=Object(c.a)(o.a.mark(function e(t,n){var a,r,c,i;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=Object(v.b)(n()),e.next=4,s(r);case 4:a=e.sent,e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(0),console.log("Error fetch configs",e.t0),t(Object(m.c)("apiConfig")),e.abrupt("return");case 12:if(a.ok){e.next=15;break}return 404===a.status||401===a.status?t(Object(m.c)("apiConfig")):console.log("Error fetch configs",a.statusText),e.abrupt("return");case 15:return e.next=17,a.json();case 17:c=e.sent,t({type:b,payload:c}),E(n()).haveFetchedConfig?(i=Object(v.b)(n()),h.a(i)):t({type:y,payload:{haveFetchedConfig:!0}});case 21:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()}function O(e){return function(){var t=Object(c.a)(o.a.mark(function t(n,r){var c;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:d(Object(v.b)(r()),e).then(function(e){!1===e.ok&&console.log("Error update configs",e.statusText)},function(e){throw console.log("Error update configs",e),e}).then(function(){n(w())}),c=E(r()),n({type:g,payload:Object(a.a)({},c,e)});case 4:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}var x={port:7890,"socks-port":7891,"redir-port":0,"allow-lan":!1,mode:"Rule","log-level":"info",haveFetchedConfig:!1};function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case y:case g:case b:return Object(a.a)({},e,r);default:return e}}},oPlX:function(e,t,n){e.exports={root:"_2kIwVmZrIm",logoLink:"fD4vFw6Suh",logo:"_3MSOuOjw1N",rows:"ARkuP2UF9U",row:"_3s-CY8UZIW",rowActive:"z0TS5nXW6e",label:"_9C_umw6HLy",themeSwitchContainer:"akNaLv2foe"}},p19a:function(e,t,n){"use strict";var a=n("vpQ4"),r=n("ODXe"),o=(n("KKXr"),n("OG14"),n("o0o1")),c=n.n(o),i=(n("pIFo"),n("ls82"),n("HaE+"));function l(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}}var s=n("oFgh"),u=n("i53Z");n.d(t,"b",function(){return h}),n.d(t,"c",function(){return m}),n.d(t,"e",function(){return v}),n.d(t,"d",function(){return y}),n.d(t,"a",function(){return O});var p="app/UpdateClashAPIConfig",d="app/SwitchTheme",f="yacd.haishan.me",h=function(e){return e.app.clashAPIConfig},m=function(e){return e.app.theme};function v(e){var t=e.hostname,n=e.port,a=e.secret;return function(){var e=Object(i.a)(c.a.mark(function e(r,o){var i;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i=t.trim().replace(/^http(s):\/\//,""),r({type:p,payload:{hostname:i,port:n,secret:a}}),l(f,o().app),r(Object(u.a)("apiConfig")),r(Object(s.b)());case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}var b=document.body;function g(){"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"dark")?(b.classList.remove("light"),b.classList.add("dark")):(b.classList.remove("dark"),b.classList.add("light"))}function y(){return function(e,t){var n="light"===m(t())?"dark":"light";g(n),e({type:d,payload:{theme:n}}),l(f,t().app)}}var E={clashAPIConfig:{hostname:"127.0.0.1",port:"7892",secret:""},theme:"dark"};function w(){var e=function(e){try{var t=localStorage.getItem(e);if(!t)return;return JSON.parse(t)}catch(e){return}}(f);e||(e=E);var t=function(){var e=location.search,t={};if("string"!=typeof e||""===e)return t;for(var n=e.replace(/^\?/,"").split("&"),a=0;a<n.length;a++){var o=n[a].split("="),c=Object(r.a)(o,2),i=c[0],l=c[1];t[i]=encodeURIComponent(l)}return t}();return t.port&&(e.clashAPIConfig.port=t.port),t.secret&&(e.clashAPIConfig.secret=t.secret),g(e.theme),e}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w(),t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case p:return Object(a.a)({},e,{clashAPIConfig:Object(a.a)({},r)});case d:return Object(a.a)({},e,r);default:return e}}},t8vU:function(e,t,n){e.exports={logMeta:"_2NcK3n4XfS",logType:"_1VGUXJPYcC",logTime:"gCXzfg0oD0",logText:"_2xrBv_irGt",logsWrapper:"_3DQv5_YG6N",log:"_33sOhzRCb3",logPlaceholder:"_2vDkW41OaJ",logPlaceholderIcon:"-N8zaF3LNs"}},u4Dv:function(e,t,n){"use strict";var a=n("ODXe"),r=n("q1tI"),o=n.n(r),c=n("17x9"),i=n.n(c),l=n("ANjH"),s=(n("rGqo"),n("yt8O"),n("RW0V"),n("U8pU")),u=Object.prototype.hasOwnProperty;function p(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}n.d(t,"a",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return v});var d=Object(r.createContext)(null);function f(e){var t=e.store,n=e.children;return o.a.createElement(d.Provider,{value:t},n)}function h(){return Object(r.useContext)(d)}function m(e){var t=h().dispatch;return Object(r.useMemo)(function(){return function(e,t){var n="function"==typeof e?e():e;return Object(l.b)(n,t)}(e,t)},[e])}function v(e){var t=h(),n=e(t.getState()),o=Object(r.useState)(n),c=Object(a.a)(o,2),i=c[0],l=c[1];return Object(r.useEffect)(function(){var n=i;return t.subscribe(function(){var a=e(t.getState());(function(e,t){if(p(e,t))return!0;if("object"!==Object(s.a)(e)||null===e||"object"!==Object(s.a)(t)||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var r=0;r<n.length;r++)if(!u.call(t,n[r])||!p(e[n[r]],t[n[r]]))return!1;return!0})(n,a)||(n=a,l(a))})},[]),i}f.propTypes={store:i.a.object,children:i.a.node}},uSrA:function(e,t,n){e.exports={switch:"_1HMH3rGR_r"}}},[[0,4,2,5]],[1,3,6]]);